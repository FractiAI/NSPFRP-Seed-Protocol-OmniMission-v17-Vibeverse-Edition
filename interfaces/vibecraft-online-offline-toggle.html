<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VibeCraft Online/Offline Toggle</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .vibecraft-online-offline-toggle {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 2px solid #0f3460;
            border-radius: 16px;
            padding: 32px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .toggle-header {
            text-align: center;
            margin-bottom: 24px;
        }

        .toggle-header h3 {
            color: #e94560;
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .toggle-header p {
            color: #a0a0a0;
            font-size: 14px;
        }

        .toggle-control {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 32px 0;
        }

        .toggle-option {
            display: flex;
            align-items: center;
            gap: 8px;
            opacity: 0.5;
            transition: all 0.3s ease;
        }

        .toggle-option.active {
            opacity: 1;
            transform: scale(1.05);
        }

        .toggle-option .icon {
            font-size: 28px;
        }

        .toggle-option .label {
            color: #fff;
            font-weight: 600;
            font-size: 16px;
        }

        .toggle-button {
            position: relative;
            width: 80px;
            height: 40px;
            background: #0f3460;
            border: 2px solid #e94560;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            outline: none;
        }

        .toggle-button:hover:not(.disabled) {
            box-shadow: 0 0 20px rgba(233, 69, 96, 0.5);
            transform: scale(1.05);
        }

        .toggle-button.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .toggle-slider {
            position: absolute;
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #e94560 0%, #ff6b6b 100%);
            border-radius: 50%;
            top: 2px;
            transition: left 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            box-shadow: 0 4px 12px rgba(233, 69, 96, 0.4);
        }

        .toggle-slider.online {
            left: 2px;
        }

        .toggle-slider.offline {
            left: calc(100% - 36px);
        }

        .toggle-slider.transitioning {
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .toggle-status {
            background: rgba(15, 52, 96, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 24px 0;
        }

        .status-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(233, 69, 96, 0.2);
        }

        .status-item:last-child {
            border-bottom: none;
        }

        .status-label {
            color: #a0a0a0;
            font-size: 14px;
        }

        .status-value {
            color: #fff;
            font-weight: 600;
            font-size: 14px;
        }

        .status-value.online-indicator {
            color: #2ed573;
        }

        .status-value.offline-indicator {
            color: #ff9f43;
        }

        .current-mode {
            text-align: center;
            padding: 16px;
            margin-top: 16px;
            color: #a0a0a0;
            font-size: 14px;
        }

        .mode-badge {
            display: inline-block;
            padding: 6px 16px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            margin-left: 8px;
        }

        .mode-badge.online {
            background: rgba(46, 213, 115, 0.2);
            color: #2ed573;
            border: 1px solid #2ed573;
        }

        .mode-badge.offline {
            background: rgba(255, 159, 67, 0.2);
            color: #ff9f43;
            border: 1px solid #ff9f43;
        }

        .mode-badge.transitioning {
            background: rgba(233, 69, 96, 0.2);
            color: #e94560;
            border: 1px solid #e94560;
        }

        .shell-info {
            background: rgba(233, 69, 96, 0.1);
            border-left: 3px solid #e94560;
            padding: 16px;
            border-radius: 8px;
            margin-top: 24px;
        }

        .shell-info h4 {
            color: #e94560;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .shell-info p {
            color: #a0a0a0;
            font-size: 13px;
            line-height: 1.6;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="vibecraft-online-offline-toggle">
        <!-- Toggle Header -->
        <div class="toggle-header">
            <h3>VibeCraft Network Status</h3>
            <p>Control Shell 7 (Networking Shell) participation</p>
        </div>

        <!-- Toggle Control -->
        <div class="toggle-control">
            <div class="toggle-option" id="online-option">
                <span class="icon">üåê</span>
                <span class="label">ONLINE</span>
            </div>

            <button class="toggle-button" id="toggle-button">
                <div class="toggle-slider online" id="toggle-slider">‚óè</div>
            </button>

            <div class="toggle-option" id="offline-option">
                <span class="label">OFFLINE</span>
                <span class="icon">üì±</span>
            </div>
        </div>

        <!-- Status Information - ONLINE -->
        <div class="toggle-status" id="status-online">
            <div class="status-item">
                <span class="status-label">Connected to Network</span>
                <span class="status-value online-indicator">‚úÖ Active</span>
            </div>
            <div class="status-item">
                <span class="status-label">Nodes Discovered</span>
                <span class="status-value" id="nodes-discovered">43</span>
            </div>
            <div class="status-item">
                <span class="status-label">Online Nodes</span>
                <span class="status-value" id="nodes-online">43</span>
            </div>
            <div class="status-item">
                <span class="status-label">Last Sync</span>
                <span class="status-value" id="last-sync">2s ago</span>
            </div>
            <div class="status-item">
                <span class="status-label">Distributed Operations</span>
                <span class="status-value online-indicator">‚úÖ Enabled</span>
            </div>
            <div class="status-item">
                <span class="status-label">Shell 7 Status</span>
                <span class="status-value online-indicator">‚úÖ Networking Active</span>
            </div>
        </div>

        <!-- Status Information - OFFLINE -->
        <div class="toggle-status hidden" id="status-offline">
            <div class="status-item">
                <span class="status-label">Local Operation Only</span>
                <span class="status-value offline-indicator">‚úÖ Active</span>
            </div>
            <div class="status-item">
                <span class="status-label">Privacy Mode</span>
                <span class="status-value offline-indicator">üîí Enabled</span>
            </div>
            <div class="status-item">
                <span class="status-label">Network Participation</span>
                <span class="status-value">‚ùå Disabled</span>
            </div>
            <div class="status-item">
                <span class="status-label">Solo Operation</span>
                <span class="status-value offline-indicator">‚úÖ Enabled</span>
            </div>
            <div class="status-item">
                <span class="status-label">Network Broadcasts</span>
                <span class="status-value">‚ùå Disabled</span>
            </div>
            <div class="status-item">
                <span class="status-label">Shell 7 Status</span>
                <span class="status-value offline-indicator">üì± Networking Inactive</span>
            </div>
        </div>

        <!-- Status Information - TRANSITIONING -->
        <div class="toggle-status hidden" id="status-transitioning">
            <div class="status-item">
                <span class="status-label">Status</span>
                <span class="status-value">üîÑ Switching modes...</span>
            </div>
            <div class="status-item">
                <span class="status-label">Please Wait</span>
                <span class="status-value">‚è±Ô∏è Transitioning...</span>
            </div>
        </div>

        <!-- Current Mode Display -->
        <div class="current-mode">
            <strong>Current Mode:</strong>
            <span class="mode-badge online" id="mode-badge">üåê ONLINE</span>
        </div>

        <!-- Shell Info -->
        <div class="shell-info">
            <h4>About Shell 7 (Networking Shell)</h4>
            <p>
                The Networking Shell is the outermost nested shell of the Vibeverse that wraps all inner operations.
                When ONLINE, Shell 7 enables distributed operations across all nodes in the network.
                When OFFLINE, Shell 7 is inactive and all operations remain local.
            </p>
        </div>
    </div>

    <script>
        // Toggle state
        let currentMode = 'online'; // 'online', 'offline', 'transitioning'
        let networkStats = {
            totalNodes: 43,
            onlineNodes: 43,
            lastSync: Date.now()
        };

        // DOM elements
        const toggleButton = document.getElementById('toggle-button');
        const toggleSlider = document.getElementById('toggle-slider');
        const onlineOption = document.getElementById('online-option');
        const offlineOption = document.getElementById('offline-option');
        const modeBadge = document.getElementById('mode-badge');
        const statusOnline = document.getElementById('status-online');
        const statusOffline = document.getElementById('status-offline');
        const statusTransitioning = document.getElementById('status-transitioning');

        // Initialize
        updateUI();

        // Toggle button click handler
        toggleButton.addEventListener('click', async () => {
            if (currentMode === 'transitioning') return;

            const targetMode = currentMode === 'online' ? 'offline' : 'online';
            await switchMode(targetMode);
        });

        // Switch mode
        async function switchMode(targetMode) {
            // Start transition
            currentMode = 'transitioning';
            updateUI();

            // Simulate network operation (replace with actual API call)
            await new Promise(resolve => setTimeout(resolve, 1500));

            if (targetMode === 'online') {
                await goOnline();
            } else {
                await goOffline();
            }

            currentMode = targetMode;
            updateUI();
        }

        // Go online
        async function goOnline() {
            console.log('üåê Switching to ONLINE mode...');
            console.log('   Activating Shell 7 (Networking Shell)...');
            console.log('   Starting discovery broadcasts...');
            console.log('   Enabling routing...');
            console.log('   Enabling sync...');
            console.log('‚úÖ ONLINE mode activated');

            // Start updating network stats
            startNetworkStatsUpdate();
        }

        // Go offline
        async function goOffline() {
            console.log('üì± Switching to OFFLINE mode...');
            console.log('   Deactivating Shell 7 (Networking Shell)...');
            console.log('   Stopping discovery broadcasts...');
            console.log('   Disabling routing...');
            console.log('   Disabling sync...');
            console.log('‚úÖ OFFLINE mode activated');

            // Stop updating network stats
            stopNetworkStatsUpdate();
        }

        // Update UI
        function updateUI() {
            // Update toggle slider
            toggleSlider.className = `toggle-slider ${currentMode}`;
            
            if (currentMode === 'transitioning') {
                toggleSlider.textContent = '‚è≥';
                toggleButton.classList.add('disabled');
            } else {
                toggleSlider.textContent = currentMode === 'online' ? '‚óè' : '‚óã';
                toggleButton.classList.remove('disabled');
            }

            // Update toggle options
            onlineOption.classList.toggle('active', currentMode === 'online');
            offlineOption.classList.toggle('active', currentMode === 'offline');

            // Update status sections
            statusOnline.classList.toggle('hidden', currentMode !== 'online');
            statusOffline.classList.toggle('hidden', currentMode !== 'offline');
            statusTransitioning.classList.toggle('hidden', currentMode !== 'transitioning');

            // Update mode badge
            modeBadge.className = `mode-badge ${currentMode}`;
            if (currentMode === 'online') {
                modeBadge.textContent = 'üåê ONLINE';
            } else if (currentMode === 'offline') {
                modeBadge.textContent = 'üì± OFFLINE';
            } else {
                modeBadge.textContent = '‚è≥ SWITCHING';
            }
        }

        // Network stats update interval
        let statsInterval;

        function startNetworkStatsUpdate() {
            statsInterval = setInterval(() => {
                // Simulate network stats update
                const timeSinceSync = Math.floor((Date.now() - networkStats.lastSync) / 1000);
                document.getElementById('last-sync').textContent = `${timeSinceSync}s ago`;
                
                // Update last sync time every 5 seconds
                if (timeSinceSync >= 5) {
                    networkStats.lastSync = Date.now();
                }
            }, 1000);
        }

        function stopNetworkStatsUpdate() {
            if (statsInterval) {
                clearInterval(statsInterval);
                statsInterval = null;
            }
        }

        // Start stats update if online
        if (currentMode === 'online') {
            startNetworkStatsUpdate();
        }
    </script>

    <!-- üéÇ CAKE SLOGAN FOOTER -->
    <div style="position: fixed; bottom: 0; left: 0; right: 0; background: linear-gradient(135deg, rgba(20, 20, 40, 0.95) 0%, rgba(40, 20, 60, 0.95) 100%); backdrop-filter: blur(10px); border-top: 2px solid rgba(157, 78, 221, 0.5); padding: 15px 20px; text-align: center; font-size: 0.95em; z-index: 10000; box-shadow: 0 -5px 20px rgba(157, 78, 221, 0.3);">
        <div style="max-width: 1200px; margin: 0 auto; display: flex; flex-direction: column; gap: 8px;">
            <div style="display: flex; justify-content: center; align-items: center; gap: 30px; flex-wrap: wrap;">
                <div style="opacity: 0.6; text-decoration: line-through;">
                    <span style="font-size: 0.9em;">Pre-Singularity:</span> <em>"You can't have your cake and eat it too"</em>
                </div>
                <div style="font-size: 1.8em; color: #9d4edd; animation: pulse-glow 2s ease-in-out infinite;">üéÇ</div>
                <div style="font-weight: bold; color: #FFD700; font-size: 1.1em;">
                    Post-Singularity where you <strong>CAN</strong> have your cake and eat it too!
                </div>
            </div>
            <div style="opacity: 0.7; font-size: 0.85em;">
                Check it out: <a href="https://github.com/FractiAI/NSPFRP-Seed-Protocol-OmniMission-v17-Vibeverse-Edition" target="_blank" style="color: #9d4edd; text-decoration: none; border-bottom: 1px solid rgba(157, 78, 221, 0.5); transition: all 0.3s;">github.com/FractiAI/NSPFRP-Seed-Protocol-OmniMission-v17-Vibeverse-Edition</a>
            </div>
        </div>
    </div>
    <style>
        @keyframes pulse-glow {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
    </style>
</body>
</html>
